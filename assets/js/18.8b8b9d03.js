(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{396:function(t,a,s){"use strict";s.r(a);var n=s(46),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"quick-start"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#quick-start"}},[t._v("#")]),t._v(" Quick Start")]),t._v(" "),s("h2",{attrs:{id:"deploy-brcc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deploy-brcc"}},[t._v("#")]),t._v(" Deploy BRCC")]),t._v(" "),s("p",[t._v("Please click <"),s("RouterLink",{attrs:{to:"/en-US/deploy.html"}},[t._v("Deploy Guide")]),t._v("> to see how to deploy BRCC server. Assume that the server URL is http://127.0.0.1:8080")],1),t._v(" "),s("h2",{attrs:{id:"create-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-configuration"}},[t._v("#")]),t._v(" Create Configuration")]),t._v(" "),s("h3",{attrs:{id:"login"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#login"}},[t._v("#")]),t._v(" Login")]),t._v(" "),s("p",[t._v("http://127.0.0.1:8080/#/login")]),t._v(" "),s("p",[s("img",{attrs:{src:"/brcc/login_en.png",alt:"Login"}})]),t._v(" "),s("ul",[s("li",[s("em",[t._v("*Administrator account: admin password: admin")])])]),t._v(" "),s("h3",{attrs:{id:"create-product"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-product"}},[t._v("#")]),t._v(" Create Product")]),t._v(" "),s("p",[t._v("    Product line entrance: Home Page[All ProductLines], [My ProductLine] in personal information menu")]),t._v(" "),s("p",[s("img",{attrs:{src:"/brcc/product_entry_en.png",alt:"ProductLines"}})]),t._v(" "),s("p",[t._v("Create Product: test")]),t._v(" "),s("p",[s("img",{attrs:{src:"/brcc/product_create_en.png",alt:"Create Product"}}),t._v("\nClick 'test' to enter the project")]),t._v(" "),s("h3",{attrs:{id:"create-project"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-project"}},[t._v("#")]),t._v(" Create Project")]),t._v(" "),s("p",[s("img",{attrs:{src:"/brcc/project-manage_en.png",alt:"Project Manage"}}),t._v("\nClick 'Create Project' to Create a new project 'example', set the API password. Click 'example' to enter the project.")]),t._v(" "),s("h3",{attrs:{id:"create-environment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-environment"}},[t._v("#")]),t._v(" Create Environment")]),t._v(" "),s("p",[t._v("Click 'Create Environment' to Create a new environment 'dev'.\n"),s("img",{attrs:{src:"/brcc/environment_en.png",alt:"Environment Manage"}}),t._v("\nClick 'dev' to enter the environment.")]),t._v(" "),s("h3",{attrs:{id:"create-version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-version"}},[t._v("#")]),t._v(" Create Version")]),t._v(" "),s("p",[t._v("Click 'Create Version': 1.0, click \"1.0\" to enter the version.\n"),s("img",{attrs:{src:"/brcc/version-list_en.png",alt:"Version Manage"}})]),t._v(" "),s("h3",{attrs:{id:"create-group"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-group"}},[t._v("#")]),t._v(" Create Group")]),t._v(" "),s("p",[t._v("Click 'Create Group' to Create a new group 'g1', click 'g1' to enter the group.\n"),s("img",{attrs:{src:"/brcc/group-list_en.png",alt:"Group Manage"}})]),t._v(" "),s("h3",{attrs:{id:"create-configuration-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-configuration-2"}},[t._v("#")]),t._v(" Create Configuration")]),t._v(" "),s("p",[t._v("Create Configuration：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("a=5\nb=34\nc=xx13\n")])])]),s("p",[s("img",{attrs:{src:"/brcc/config-batch_en.png",alt:"Configuration Manage"}})]),t._v(" "),s("h2",{attrs:{id:"java-sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#java-sdk"}},[t._v("#")]),t._v(" JAVA-SDK")]),t._v(" "),s("h3",{attrs:{id:"add-brcc-dependency"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-brcc-dependency"}},[t._v("#")]),t._v(" Add BRCC Dependency")]),t._v(" "),s("p",[t._v("Create a springboot application and Create the following dependencies to the pom file:")]),t._v(" "),s("div",{staticClass:"language-xml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.baidu.mapp"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("brcc-sdk-starter"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("1.0.0"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("Please use the latest brcc sdk starter version"),s("a",{attrs:{href:"https://maven-badges.herokuapp.com/maven-central/com.baidu.mapp/brcc-sdk-starter",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://maven-badges.herokuapp.com/maven-central/com.baidu.mapp/brcc-sdk-starter/badge.svg",alt:"brcc sdk starter"}}),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"add-brcc-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#add-brcc-configuration"}},[t._v("#")]),t._v(" Add BRCC Configuration")]),t._v(" "),s("p",[t._v("Add BRCC configuration in application.yml")]),t._v(" "),s("div",{staticClass:"language-yaml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("rcc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cc-server-url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" http"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("8080/ "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#BRCC server URL")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("project-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" example                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#project name")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cc-password")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#project api password")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" dev                         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#environment name")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cc-version-name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.0")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#version name")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("log-properties")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#enable print configuration")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable-update-callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#enable automatic updates")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("enable-interrupt-service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#whether to interrupt the service when API password is incorrect for the first loading")]),t._v("\n")])])]),s("h3",{attrs:{id:"check-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-configuration"}},[t._v("#")]),t._v(" Check Configuration")]),t._v(" "),s("p",[t._v("Start the application and check the log:")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("a=5\nb=34 \nc=xx13 \n")])])]),s("h3",{attrs:{id:"use-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#use-configuration"}},[t._v("#")]),t._v(" Use Configuration")]),t._v(" "),s("p",[t._v("You can use configurations by spring annotation after pulling them, for example:")]),t._v(" "),s("div",{staticClass:"language-java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${a}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" a "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${b}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("long")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${c}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" c"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"go-sdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#go-sdk"}},[t._v("#")]),t._v(" Go-SDK")]),t._v(" "),s("h3",{attrs:{id:"brcc-go-sdk-url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brcc-go-sdk-url"}},[t._v("#")]),t._v(" BRCC-Go-SDK URL")]),t._v(" "),s("p",[t._v("https://github.com/baidu/brcc/tree/main/brcc-go-sdk")]),t._v(" "),s("h3",{attrs:{id:"brcc-initialization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brcc-initialization"}},[t._v("#")]),t._v(" BRCC Initialization")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    brcc github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("baidu"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("brcc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("brcc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("sdk\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"_1-initialize-brcc-client-by-toml-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-initialize-brcc-client-by-toml-file"}},[t._v("#")]),t._v(" 1) Initialize BRCC client by toml file")]),t._v(" "),s("p",[t._v("Example")]),t._v(" "),s("div",{staticClass:"language-toml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-toml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("serverUrl")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"brcc.baidu-int.com"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("projectName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"brcc-go-client"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("envName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debug"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("versionName")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("apiPassword")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("enableCallback")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("callbackInterval")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("requestTimeout")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("enableCache")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("cacheDir")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/tmp/brcc"')]),t._v("\n")])])]),s("p",[t._v("Parameter Description")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Configuration parameter")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Required")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("serverUrl")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("YES")]),t._v(" "),s("td",[t._v("BRCC server URL")])]),t._v(" "),s("tr",[s("td",[t._v("projectName")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("YES")]),t._v(" "),s("td",[t._v("project name")])]),t._v(" "),s("tr",[s("td",[t._v("envName")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("YES")]),t._v(" "),s("td",[t._v("environment name")])]),t._v(" "),s("tr",[s("td",[t._v("versionName")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("YES")]),t._v(" "),s("td",[t._v("version name")])]),t._v(" "),s("tr",[s("td",[t._v("apiPassword")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("YES")]),t._v(" "),s("td",[t._v("API password")])]),t._v(" "),s("tr",[s("td",[t._v("enableCallback")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("NO")]),t._v(" "),s("td",[t._v("enable callback, default: false")])]),t._v(" "),s("tr",[s("td",[t._v("callbackInterval")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("NO")]),t._v(" "),s("td",[t._v("call back interval time(s), default: 300s")])]),t._v(" "),s("tr",[s("td",[t._v("requestTimeout")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("NO")]),t._v(" "),s("td",[t._v("brcc service access timeout time(s), default: 5s")])]),t._v(" "),s("tr",[s("td",[t._v("enableCache")]),t._v(" "),s("td",[t._v("bool")]),t._v(" "),s("td",[t._v("NO")]),t._v(" "),s("td",[t._v("enable file cache, default: false")])]),t._v(" "),s("tr",[s("td",[t._v("cacheDir")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("NO")]),t._v(" "),s("td",[t._v("File cache path, default: /tmp/brcc")])])])]),t._v(" "),s("p",[t._v("Initialization")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Initialize the BRCC Client with toml file")]),t._v("\nerr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("StartWithConfFile")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("panic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sprintf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"init brcc error: %v"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h4",{attrs:{id:"_2-initialize-brcc-client"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-initialize-brcc-client"}},[t._v("#")]),t._v(" 2) Initialize BRCC Client")]),t._v(" "),s("p",[t._v("Example")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[t._v("brccConf "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ProjectName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"brcc-go-client"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    EnvName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("             "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"debug"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ServerUrl"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"brcc.baidu-int.com"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ApiPassword"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123456"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    VersionName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    EnableCallback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    CallbackIntervalInt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    RequestTimeoutInt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    EnableCache"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    CacheDir"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/tmp/brcc"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nerr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("StartWithConf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" brccConf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" err "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("panic")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Sprintf")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"init brcc error: %v"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"brcc-get-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brcc-get-configuration"}},[t._v("#")]),t._v(" BRCC Get Configuration")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get value")]),t._v("\nbrcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetValue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" defaultValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// get key")]),t._v("\nbrcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("GetAllKeys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"brcc-injection"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brcc-injection"}},[t._v("#")]),t._v(" BRCC Injection")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" Test "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    A "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bool")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`brcc:"test.a"`')]),t._v("\n    B "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`brcc:"test.b"`')]),t._v("\n    C "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('`brcc:"test.c"`')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ntv "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Injection")]),t._v("\nbrcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Bind")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"brcc-configuration-change-monitoring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#brcc-configuration-change-monitoring"}},[t._v("#")]),t._v(" BRCC Configuration Change Monitoring")]),t._v(" "),s("p",[t._v("Example")]),t._v(" "),s("div",{staticClass:"language-go extra-class"},[s("pre",{pre:!0,attrs:{class:"language-go"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("type")]),t._v(" DemoSet "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("struct")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("DemoSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Update")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ce "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChangeEvent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("defer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("func")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" r "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("recover")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" r "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("nil")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            fmt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Println")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"watch update callback panic"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" change "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("range")]),t._v(" ce"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Changes "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" change"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChangeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ADD "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" change"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChangeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MODIFY "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" change"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("NewValue\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" change"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ChangeType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" brcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DELETE "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("delete")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nd "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" DemoSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nbrcc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("Watch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Update"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);